<div class="table-responsive">
    <table class="table table-striped table-hover">
        <thead>
            <tr>
            <th scope="col">#</th>
            <th scope="col">User name </th>
            <th scope="col">Share Percentage </th>
            <th scope="col">Limit Amount </th>
            <th scope="col"></th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr>
                <th scope="row">{{user.id}}</th>
                <td>{{user.first_name}}</td>
                <td>{{user.wallet.share_percentage}}%</td>
                <td>{{user.wallet.limit}} SR.</td>
                <td class="text-center text-md-end">
                    <button type="button" onclick="delete_user({{user.id}})" class="btn btn-danger mb-2 mb-md-0" data-bs-toggle="modal" data-bs-target="#delate_confirm">Delete</button>
                    <button type="button" onclick="edit_user({{user.id}})" class="btn btn-warning mb-2 mb-md-0" data-bs-toggle="modal" data-bs-target="#editUser">Edit</button>
                    <button type="button" onclick="change_password({{user.id}})" class="btn btn-warning mb-2 mb-md-0" data-bs-toggle="modal" data-bs-target="#passwordUser">Chage password</button>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<script>
    var pk = 0;
    function delete_user(id)
    {
        pk = id;
    }
    function delete_confirm()
    {
        $.ajax({
            url : "/accounts/delete/"+pk+"/", // create institution
            //type : "POST", // http method
            //data : formData, // data sent with the post request
            cache: false,
            contentType: false,
            processData: false,
            success : function(res) {
                window.location.reload();
            },

            // handle a non-successful response
            error : function(xhr,errmsg,err) {
                console.log(err)
            }
        });
    }
</script>